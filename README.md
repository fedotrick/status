# Система учета маршрутных карт

Приложение для проверки и обновления информации о маршрутных картах.

## Функциональность

- Проверка наличия бланка по номеру
- Заполнение учетного номера и номера кластера для существующих бланков
- Валидация форматов вводимых данных
- Автоматическое обновление статуса маршрутной карты на "Завершена"
- Просмотр существующих записей в табличном виде
- Поиск по номеру бланка, учетному номеру и номеру кластера
- Обработка ошибок при работе с базой данных
- Информативные подписи для полей ввода

## Требования

- Python 3.10+
- Kivy 2.0+
- SQLite

## Установка

```bash
pip install kivy
```

## Запуск приложения

### Стандартный запуск
```bash
python route_card_app.py
```

### Запуск с указанием пути к базе данных
```bash
python run.py --db путь/к/базе/данных.db
```

## Использование

### Вкладка "Редактирование"

1. Введите номер бланка в соответствующее поле и нажмите "Проверить/Обновить"
2. Если бланк найден и поля "Учетный_номер" и "Номер_кластера" пусты, то станут доступны поля для их заполнения
3. Заполните учетный номер в формате ММ-ННН/ГГ (например, 05-002/25)
4. Заполните номер кластера в формате КГГ/ММ-ННН (например, К25/05-099)
5. Нажмите кнопку "Сохранить" для обновления информации в базе данных

После успешного обновления статус маршрутной карты автоматически устанавливается в "Завершена".

### Вкладка "Просмотр данных"

1. Просматривайте существующие записи в табличном виде
2. Используйте поле поиска для фильтрации записей по номеру бланка, учетному номеру или номеру кластера
3. Нажмите кнопку "Обновить данные" для обновления таблицы

## Валидация форматов

- Учетный номер: ММ-ННН/ГГ (например, 05-002/25)
- Номер кластера: КГГ/ММ-ННН (например, К25/05-099)

## Обработка ошибок

Приложение обрабатывает следующие типы ошибок:
- Ошибки подключения к базе данных
- Ошибки при проверке и обновлении данных
- Ошибки валидации формата ввода
- Критические ошибки при запуске приложения

## Тестирование

Для запуска тестов выполните:

```bash
python -m unittest test_route_card_app.py
```
